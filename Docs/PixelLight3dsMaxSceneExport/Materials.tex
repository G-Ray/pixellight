\chapter{Materials}




\section{General}
Known \emph{Autodesk 3ds Max} material slots are \emph{mapped} to PixelLight material slots. Here's a list of known \emph{Autodesk 3ds Max} slots: (<\emph{Autodesk 3ds Max} map> -> <PL map>)

\textbf{Standard material:}

\begin{itemize}
\item{"Ambient Color"       -> "EmissiveMap"}
\item{"Diffuse Color"       -> "DiffuseMap" (alpha channel is used for semi-transparent materials)}
\item{"Specular Color"      -> "SpecularMap" (alpha channel is used for gloss)}
\item{"Self-Illumination"   -> "LightMap"}
\item{"Filter Color"        -> "DetailNormalMap"}
\item{"Bump"                -> "NormalMap"}
\item{"Bump -> Normal Bump" -> "NormalMap" and "HeightMap" (\emph{Additional Bump}), method=tangent, other settings=default setting}
\item{"Reflection"          -> "ReflectionMap" ("Amount" is exported as "ReflectionColor" material attribute)}
\item{"Refraction"          -> "ReflectivityMap"}
\item{"Displacement"        -> "HeightMap"}
\end{itemize}

\textbf{DxMaterial or extend:}
\begin{itemize}
\item{"UnknownMap"        -> "EmissiveMap"}
\item{"DiffuseMap"        -> "DiffuseMap"}
\item{"BumpMap"           -> "HeightMap"}
\item{"SpecularMap"       -> "SpecularMap"}
\item{"DisplacementMap"   -> "DetailNormalMap"}
\item{"LightMap"          -> "LightMap"}
\item{"NormalMap"         -> "NormalMap"}
\item{"ReflectionMap"     -> "ReflectionMap"}
\end{itemize}

\textbf{This material attributes will be exported:}
\begin{itemize}
\item{Glossiness}
\item{Specular}
\item{Two Sided}
\item{Opacity}
\item{Index Of Refraction (if 0, there's no index of refraction and reflection is view independent)}
\item{Transparency Type: \emph{Subtractive} results in \emph{SrcBlendFunc=SrcAlpha  DstBlendFunc=InvSrcAlpha}, all other settings = default blend mode}
\end{itemize}




\section{Lightmaps}
If you want to use lightmaps, your lightmapped objects need a \emph{LightMap} map (see \emph{Materials}-section above) and a second texture coordinate set at ID2 for the lightmap coordinates. Don't forget to activate the export of this second texture coordinate layer within the export dialog. (set second layer to 'uv' which is also the default setting)

\textbf{The lightmap coordinates are saved within each mesh - so it will not work correctly with instancing!}
